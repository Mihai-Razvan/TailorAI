# TailorAI - AI-Powered Outfit Generator

A React Native + Expo mobile app that uses AI to generate photorealistic outfit transformations. Upload your photo, choose a style (Casual, Modern, or Edgy), and see yourself in a new outfit generated by AI.

## Features

- ğŸ“¸ **Photo Upload**: Upload photos from your device gallery
- ğŸ¨ **Style Selection**: Choose from 3 clothing styles (Casual, Modern, Edgy)
- âœ¨ **AI Generation**: Powered by Replicate/Stable Diffusion for photorealistic results
- ğŸ“± **Mobile-First UI**: Beautiful, responsive interface optimized for mobile devices
- ğŸ”„ **Loading States**: Clear feedback during image processing
- ğŸ–¼ï¸ **Result Display**: View original and generated images side-by-side

## Tech Stack

### Frontend
- React Native + Expo
- TypeScript
- Expo Router
- Expo Image Picker
- Expo File System

### Backend
- Node.js + Express
- Replicate API (or Nano Banana API)
- CORS enabled for mobile access

## Prerequisites

- Node.js 18+ installed
- npm or yarn package manager
- Expo CLI (`npm install -g expo-cli`)
- An API key from [Replicate](https://replicate.com) (recommended) or Nano Banana

## Installation & Setup

### 1. Clone and Install Dependencies

```bash
# Install frontend dependencies
npm install

# Install backend dependencies
cd server
npm install
cd ..
```

### 2. Backend Setup

1. Navigate to the server directory:
```bash
cd server
```

2. Create a `.env` file:
```bash
# Recommended: Replicate API
REPLICATE_API_TOKEN=your_replicate_api_token_here
AI_API_PROVIDER=replicate

# Alternative: Nano Banana API
# NANO_BANANA_API_KEY=your_nano_banana_api_key_here
# AI_API_PROVIDER=nanobanana

# Server Port (optional, defaults to 3001)
PORT=3001
```

3. Get your API key:
   - **Replicate** (Recommended): Sign up at https://replicate.com and get your API token from the account settings
   - **Nano Banana**: Get your API key from Nano Banana documentation

4. Start the backend server:
```bash
npm start
# or for development with auto-reload:
npm run dev
```

The server will run on `http://localhost:3001`

### 3. Frontend Setup

1. Make sure you're in the root directory (not the server directory)

2. Start the Expo development server:
```bash
npm start
```

3. Run on your device:
   - **iOS Simulator**: Press `i` in the terminal
   - **Android Emulator**: Press `a` in the terminal
   - **Physical Device**: Scan the QR code with Expo Go app (iOS/Android)

### 4. Configure API URL (if needed)

The app automatically detects the API URL based on the platform:
- **Android Emulator**: `http://10.0.2.2:3001` (automatically configured)
- **iOS Simulator**: `http://localhost:3001` (automatically configured)
- **Physical Device**: You may need to update the `API_BASE_URL` in `app/index.tsx` to use your computer's local IP address

For physical devices on the same network:
```typescript
// In app/index.tsx, replace the API_BASE_URL:
const API_BASE_URL = __DEV__ 
  ? 'http://YOUR_COMPUTER_IP:3001'  // e.g., 'http://192.168.1.100:3001'
  : 'https://your-production-api.com';
```

## Project Structure

```
tailorai/
â”œâ”€â”€ app/                    # Expo Router app directory
â”‚   â”œâ”€â”€ _layout.tsx        # Root layout
â”‚   â””â”€â”€ index.tsx          # Main screen
â”œâ”€â”€ components/            # React Native components
â”‚   â”œâ”€â”€ PhotoUpload.tsx    # Photo upload component
â”‚   â”œâ”€â”€ StyleCard.tsx      # Style selection card
â”‚   â””â”€â”€ ResultDisplay.tsx  # Result display component
â”œâ”€â”€ server/                # Backend API server
â”‚   â”œâ”€â”€ server.js          # Express server
â”‚   â”œâ”€â”€ package.json       # Server dependencies
â”‚   â””â”€â”€ README.md          # Server documentation
â”œâ”€â”€ assets/                # App assets (icons, images)
â”œâ”€â”€ package.json           # Frontend dependencies
â”œâ”€â”€ app.json               # Expo configuration
â””â”€â”€ tsconfig.json          # TypeScript configuration
```

## Usage

1. **Launch the app** on your device/emulator
2. **Upload a photo** by tapping the "Upload Photo" button
3. **Select a style** (Casual, Modern, or Edgy)
4. **Tap "Generate Outfit"** to create your AI-generated look
5. **View results** - compare original and generated images

## API Endpoints

### POST `/api/generate-outfit`

Generate an outfit based on an uploaded image and selected style.

**Request:**
```json
{
  "image": "data:image/jpeg;base64,...",
  "style": "casual" | "modern" | "edgy"
}
```

**Response:**
```json
{
  "success": true,
  "generatedImage": "data:image/png;base64,..."
}
```

### GET `/health`

Health check endpoint.

## Development

### Running in Development Mode

```bash
# Terminal 1: Start backend
cd server
npm run dev

# Terminal 2: Start frontend
npm start
```

### Building for Production

```bash
# Build Android APK
npm run build:android

# Build iOS
npm run build:ios
```

## Troubleshooting

### "API key not configured" error
- Make sure you've created a `.env` file in the `server/` directory
- Verify your API key is correct
- Restart the server after updating `.env`

### "Network request failed" error
- Ensure the backend server is running on port 3001
- For physical devices, make sure you're using your computer's IP address, not `localhost`
- Check that both devices are on the same network

### Image upload not working
- Grant camera roll permissions when prompted
- Check that the Expo Go app has necessary permissions in device settings

### Replicate API errors
- Verify your API token is valid
- Check your Replicate account for rate limits
- Ensure you have sufficient credits in your Replicate account

## Customization

### Adding New Styles

1. Update `stylePrompts` in `server/server.js`:
```javascript
const stylePrompts = {
  // ... existing styles
  formal: {
    description: 'formal, elegant, professional attire',
    keywords: 'formal wear, elegant, professional, suit, dress'
  }
};
```

2. Add a new `StyleCard` in `app/index.tsx`
3. Update the `ClothingStyle` type to include the new style

### Changing AI Models

In `server/server.js`, you can modify the Replicate model:

```javascript
const output = await replicate.run(
  "different-model/name", // Change this
  {
    input: {
      // ... model-specific parameters
    }
  }
);
```

## License

See LICENSE file for details.

## Support

For issues, questions, or contributions, please open an issue on the repository.

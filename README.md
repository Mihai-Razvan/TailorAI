# TailorAI - AI-Powered Outfit Generator

A React Native + Expo mobile app that uses AI to generate photorealistic outfit transformations. Upload your photo, choose a style (Casual, Modern, or Edgy), and see yourself in a new outfit generated by AI.

## Features

- üì∏ **Photo Upload**: Upload photos from your device gallery
- üé® **Style Selection**: Choose from 3 clothing styles (Casual, Modern, Edgy)
- ‚ú® **AI Generation**: Powered by Replicate/Stable Diffusion for photorealistic results
- üì± **Mobile-First UI**: Beautiful, responsive interface optimized for mobile devices
- üîÑ **Loading States**: Clear feedback during image processing
- üñºÔ∏è **Result Display**: View original and generated images side-by-side

## Tech Stack

### Frontend
- React Native + Expo
- TypeScript
- Expo Router
- Expo Image Picker
- Expo File System

### Backend
- Node.js + Express
- Google Nano Banana API (Official Google API - Gemini models)
- CORS enabled for mobile access

## Prerequisites

- Node.js 18+ installed
- npm or yarn package manager
- Expo CLI (`npm install -g expo-cli`)
- An API key from [Google Nano Banana API](https://aistudio.google.com/app/apikey) (required)

## Installation & Setup

### 1. Clone and Install Dependencies

```bash
# Install frontend dependencies
npm install

# Install backend dependencies
cd server
npm install
cd ..
```

### 2. Backend Setup

1. Navigate to the server directory:
```bash
cd server
```

2. Create a `.env` file:
```bash
# Google Nano Banana API (Required)
# Official Google API for image generation using Gemini models
# Get your API key from: https://aistudio.google.com/app/apikey
GOOGLE_NANO_BANANA_API_KEY=your_google_nano_banana_api_key_here

# Nano Banana Model (Optional)
# Options: 'gemini-2.5-flash-image' (faster) or 'gemini-3-pro-image-preview' (better quality)
# Default: 'gemini-3-pro-image-preview'
NANO_BANANA_MODEL=gemini-3-pro-image-preview

# Server Port (optional, defaults to 3001)
PORT=3001
```

**Note:** Google Nano Banana API key is required. This is the official Google API for image generation.

3. Get your API key:
   - **Google Nano Banana API**: Get your API key from https://aistudio.google.com/app/apikey
   - Documentation: https://ai.google.dev/gemini-api/docs/nanobanana

4. Start the backend server:
```bash
npm start
# or for development with auto-reload:
npm run dev
```

The server will run on `http://localhost:3001`

### 3. Frontend Setup

1. Make sure you're in the root directory (not the server directory)

2. Start the Expo development server:
```bash
npm start
```

3. Run on your device:
   - **iOS Simulator**: Press `i` in the terminal
   - **Android Emulator**: Press `a` in the terminal
   - **Physical Device**: Scan the QR code with Expo Go app (iOS/Android)

### 4. Configure API URL (if needed)

The app automatically detects the API URL based on the platform:
- **Android Emulator**: `http://10.0.2.2:3001` (automatically configured)
- **iOS Simulator**: `http://localhost:3001` (automatically configured)
- **Physical Device**: You may need to update the `API_BASE_URL` in `app/index.tsx` to use your computer's local IP address

For physical devices on the same network:
```typescript
// In app/index.tsx, replace the API_BASE_URL:
const API_BASE_URL = __DEV__ 
  ? 'http://YOUR_COMPUTER_IP:3001'  // e.g., 'http://192.168.1.100:3001'
  : 'https://your-production-api.com';
```

## Project Structure

```
tailorai/
‚îú‚îÄ‚îÄ app/                    # Expo Router app directory
‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx        # Root layout
‚îÇ   ‚îî‚îÄ‚îÄ index.tsx          # Main screen
‚îú‚îÄ‚îÄ components/            # React Native components
‚îÇ   ‚îú‚îÄ‚îÄ PhotoUpload.tsx    # Photo upload component
‚îÇ   ‚îú‚îÄ‚îÄ StyleCard.tsx      # Style selection card
‚îÇ   ‚îî‚îÄ‚îÄ ResultDisplay.tsx  # Result display component
‚îú‚îÄ‚îÄ server/                # Backend API server
‚îÇ   ‚îú‚îÄ‚îÄ server.js          # Express server
‚îÇ   ‚îú‚îÄ‚îÄ package.json       # Server dependencies
‚îÇ   ‚îî‚îÄ‚îÄ README.md          # Server documentation
‚îú‚îÄ‚îÄ assets/                # App assets (icons, images)
‚îú‚îÄ‚îÄ package.json           # Frontend dependencies
‚îú‚îÄ‚îÄ app.json               # Expo configuration
‚îî‚îÄ‚îÄ tsconfig.json          # TypeScript configuration
```

## Usage

1. **Launch the app** on your device/emulator
2. **Upload a photo** by tapping the "Upload Photo" button
3. **Select a style** (Casual, Modern, or Edgy)
4. **Tap "Generate Outfit"** to create your AI-generated look
5. **View results** - compare original and generated images

## API Endpoints

### POST `/api/generate-outfit`

Generate an outfit based on an uploaded image and selected style.

**Request:**
```json
{
  "image": "data:image/jpeg;base64,...",
  "style": "casual" | "modern" | "edgy"
}
```

**Response:**
```json
{
  "success": true,
  "generatedImage": "data:image/png;base64,..."
}
```

### GET `/health`

Health check endpoint.

## Development

### Running in Development Mode

```bash
# Terminal 1: Start backend
cd server
npm run dev

# Terminal 2: Start frontend
npm start
```

### Building for Production

```bash
# Build Android APK
npm run build:android

# Build iOS
npm run build:ios
```

## Troubleshooting

### "API key not configured" error
- Make sure you've created a `.env` file in the `server/` directory
- Verify your API key is correct
- Restart the server after updating `.env`

### "Network request failed" error
- Ensure the backend server is running on port 3001
- For physical devices, make sure you're using your computer's IP address, not `localhost`
- Check that both devices are on the same network

### Image upload not working
- Grant camera roll permissions when prompted
- Check that the Expo Go app has necessary permissions in device settings

### API errors
- **Google Nano Banana API**: Verify your API key is valid at https://aistudio.google.com/app/apikey
- Check your Google AI Studio account for rate limits
- Ensure you have sufficient quota in your Google account
- Verify the model name is correct (`gemini-2.5-flash-image` or `gemini-3-pro-image-preview`)
- Check the API documentation: https://ai.google.dev/gemini-api/docs/nanobanana

## Customization

### Adding New Styles

1. Update `stylePrompts` in `server/server.js`:
```javascript
const stylePrompts = {
  // ... existing styles
  formal: {
    description: 'formal, elegant, professional attire',
    keywords: 'formal wear, elegant, professional, suit, dress'
  }
};
```

2. Add a new `StyleCard` in `app/index.tsx`
3. Update the `ClothingStyle` type to include the new style

### Changing AI Models

In `server/server.js`, you can modify the Replicate model:

```javascript
const output = await replicate.run(
  "different-model/name", // Change this
  {
    input: {
      // ... model-specific parameters
    }
  }
);
```

## License

See LICENSE file for details.

## Support

For issues, questions, or contributions, please open an issue on the repository.
